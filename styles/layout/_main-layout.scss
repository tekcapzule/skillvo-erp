// ========================================
// Main Layout
// ========================================
// Core layout definitions for the application structure
// This file defines the main container, content area, and structural elements

// ========================================
// Layout Variables
// ========================================

:root {
  /* Main Layout Structure */
  --layout-bg: var(--bg-app);
  --layout-container-width: var(--breakpoint-xl, 1200px);
  --layout-container-padding: var(--space-6, var(--inset-lg));

  /* Content Area Settings */
  --main-content-min-height: calc(100vh - var(--header-height));
  --main-content-margin-top: var(--header-height);
  --main-content-margin-left: var(--sidenav-width);
  --main-content-collapsed-margin-left: var(--sidenav-collapsed-width);
  --main-content-padding: var(--space-8, var(--inset-xl));
  --main-content-mobile-padding: var(--space-4, var(--inset-md));
  
  /* Layout Colors */
  --main-content-bg: var(--bg-body);
  --main-content-text: var(--text-primary);
  
  /* Backdrop Overlay */
  --backdrop-bg: rgba(0, 0, 0, 0.5);
  --backdrop-z-index: var(--z-40);
  --backdrop-transition-duration: 0.3s;
  --backdrop-transition-timing: ease;
  
  /* Mobile FAB Menu Button */
  --mobile-fab-size: var(--space-14, 56px);
  --mobile-fab-margin: var(--space-6, 24px);
  --mobile-fab-bg: var(--primary-500);
  --mobile-fab-color: var(--text-on-dark);
  --mobile-fab-z-index: var(--z-30);
  
  /* Layout Animation */
  --layout-transition-duration: 0.3s;
  --layout-transition-timing: ease-in-out;
  
  /* Layout Z-index Layers */
  --layout-z-index-base: var(--z-0);
  --layout-z-index-content: var(--z-10);
  --layout-z-index-overlay: var(--z-40);
  
  /* Layout Scrollbar */
  --layout-scrollbar-width: var(--space-2, 8px);
  --layout-scrollbar-thumb-color: var(--neutral-300);
  --layout-scrollbar-track-color: var(--bg-body);
  
  /* Layout Breakpoints */
  --layout-breakpoint-sm: var(--breakpoint-sm, 576px);
  --layout-breakpoint-md: var(--breakpoint-md, 768px);
  --layout-breakpoint-lg: var(--breakpoint-lg, 992px);
  --layout-breakpoint-xl: var(--breakpoint-xl, 1200px);
}

// ========================================
// Layout Component Token Exports
// ========================================
// These tokens should be placed in the theme variables files

[data-theme="dark"] {
  --layout-bg: var(--bg-app);
  --backdrop-bg: rgba(0, 0, 0, 0.7);
  --mobile-fab-bg: var(--primary-500);
  --mobile-fab-color: var(--text-on-dark);
}

// ========================================
// Main Container
// ========================================

.main-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--layout-bg);
  position: relative;
  overflow-x: hidden;
}

// ========================================
// Content Container
// ========================================

.content-container {
  display: flex;
  flex: 1;
  height: var(--main-content-min-height);
  margin-top: var(--main-content-margin-top);
  position: relative;
}

.content-wrapper {
  flex: 1;
  height: 100%;
  width: 100%;
  background-color: var(--main-content-bg);
  overflow: hidden;
  transition: margin-left var(--layout-transition-duration) var(--layout-transition-timing);
  
  &.with-sidebar {
    margin-left: var(--main-content-margin-left);
  }
  
  &.with-collapsed-sidebar {
    margin-left: var(--main-content-collapsed-margin-left);
  }
}

.content-area {
  padding: var(--main-content-padding);
  height: calc(100% - var(--breadcrumb-height, 0));
  overflow-y: auto;
  overflow-x: hidden;
  background-color: var(--main-content-bg);
  
  /* Custom scrollbar styling */
  &::-webkit-scrollbar {
    width: var(--layout-scrollbar-width);
  }
  
  &::-webkit-scrollbar-track {
    background-color: var(--layout-scrollbar-track-color);
  }
  
  &::-webkit-scrollbar-thumb {
    background-color: var(--layout-scrollbar-thumb-color);
    border-radius: var(--radius-sm);
  }
}

// ========================================
// Mobile UI Elements
// ========================================

.mobile-fab-menu {
  display: none;
  position: fixed;
  bottom: var(--mobile-fab-margin);
  right: var(--mobile-fab-margin);
  z-index: var(--mobile-fab-z-index);
  width: var(--mobile-fab-size);
  height: var(--mobile-fab-size);
  border-radius: 50%;
  background-color: var(--mobile-fab-bg);
  color: var(--mobile-fab-color);
  box-shadow: var(--shadow-lg);
  border: none;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  
  &:hover {
    transform: translateY(calc(-1 * var(--space-0-5, 2px)));
    box-shadow: var(--shadow-xl);
  }
  
  &:active {
    transform: scale(0.95);
  }
}

.backdrop-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--backdrop-bg);
  z-index: var(--backdrop-z-index);
  visibility: hidden;
  opacity: 0;
  transition: opacity var(--backdrop-transition-duration) var(--backdrop-transition-timing),
              visibility var(--backdrop-transition-duration) var(--backdrop-transition-timing);
  
  &.active {
    visibility: visible;
    opacity: 1;
  }
}

// ========================================
// Responsive Adjustments
// ========================================

@media (max-width: var(--layout-breakpoint-md)) {
  .content-wrapper {
    margin-left: 0 !important;
  }
  
  .content-area {
    padding: var(--main-content-mobile-padding);
  }
  
  .mobile-fab-menu {
    display: flex;
    align-items: center;
    justify-content: center;
  }
} 