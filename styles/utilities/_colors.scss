// ========================================
// Color Utilities
// ========================================
// Color utility classes for text and backgrounds

@use 'sass:map';
@use '../abstracts/variables/colors' as colors;

// Define local variables from imported ones
$color-scales: colors.$color-scales;
$theme-colors: colors.$common-colors;

// ========================================
// Text Color Utilities
// ========================================

// Main text utilities
.text-primary {
  color: var(--text-primary) !important;
}

.text-secondary {
  color: var(--text-secondary) !important;
}

.text-tertiary {
  color: var(--text-tertiary) !important;
}

.text-light {
  color: var(--text-on-dark) !important;
}

// Generate text color utilities from theme colors
@each $name, $color in $theme-colors {
  .text-#{$name} {
    color: var(--#{$name}-500) !important;
  }
}

// Status text colors
.text-success {
  color: var(--success-color) !important;
}

.text-warning {
  color: var(--warning-color) !important;
}

.text-danger {
  color: var(--danger-color) !important;
}

.text-info {
  color: var(--info-color) !important;
}

// ========================================
// Background Color Utilities
// ========================================

// Main background utilities
.bg-app {
  background-color: var(--bg-app) !important;
}

.bg-primary {
  background-color: var(--bg-primary) !important;
}

.bg-secondary {
  background-color: var(--bg-secondary) !important;
}

.bg-surface {
  background-color: var(--bg-surface) !important;
}

// Generate background color utilities from theme colors
@each $name, $color in $theme-colors {
  .bg-#{$name} {
    background-color: var(--#{$name}-500) !important;
    
    // Add appropriate text color for contrast
    @if $name == 'primary' or $name == 'secondary' or $name == 'tertiary' or
        $name == 'success' or $name == 'warning' or $name == 'danger' or $name == 'info' {
      color: var(--text-on-dark) !important;
    }
  }
}

// Status background colors
.bg-success {
  background-color: var(--success-color) !important;
  color: var(--text-on-dark) !important;
}

.bg-warning {
  background-color: var(--warning-color) !important;
  color: var(--text-on-dark) !important;
}

.bg-danger {
  background-color: var(--danger-color) !important;
  color: var(--text-on-dark) !important;
}

.bg-info {
  background-color: var(--info-color) !important;
  color: var(--text-on-dark) !important;
}

// ========================================
// Color Variant Utilities - Lighter/Darker Shades
// ========================================

// Generate shade variants for each color scale
@each $name in $color-scales {
  @each $shade in (50, 100, 200, 300, 400, 500, 600, 700, 800, 900) {
    .text-#{$name}-#{$shade} {
      color: var(--#{$name}-#{$shade}) !important;
    }
    
    .bg-#{$name}-#{$shade} {
      background-color: var(--#{$name}-#{$shade}) !important;
      
      // Add appropriate text color for contrast on darker backgrounds
      @if $shade >= 600 {
        color: var(--text-on-dark) !important;
      }
    }
  }
}

// Dark mode overrides - Using data-theme attribute for theme system consistency
html[data-theme="dark"],
.dark-theme {
  .text-primary {
    color: var(--dark-text-primary, var(--neutral-50)) !important;
  }
  
  .text-secondary {
    color: var(--dark-text-secondary, var(--neutral-300)) !important;
  }
  
  .text-tertiary {
    color: var(--dark-text-tertiary, var(--neutral-400)) !important;
  }
  
  .bg-primary {
    background-color: var(--dark-bg-primary, var(--neutral-900)) !important;
  }
  
  .bg-secondary {
    background-color: var(--dark-bg-secondary, var(--neutral-800)) !important;
  }
  
  .bg-surface {
    background-color: var(--dark-bg-surface, var(--neutral-800)) !important;
  }
  
  .bg-app {
    background-color: var(--dark-bg-app, var(--neutral-900)) !important;
  }
}