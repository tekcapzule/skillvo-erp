/**
 * Information Display Controls Base - Core Styles
 * Version: 2.0.0
 * Last Updated: June 29, 2024
 * 
 * This file establishes the foundational styles for all information display components
 * in the SkillVo design system. It serves as the second level in our 
 * three-tier styling architecture:
 * 1. sv-ui-control-base - Base styles for all interactive controls
 * 2. sv-information-display-base (this file) - Base styles for information display components
 * 3. Component-specific classes (e.g., sv-label, sv-badge, sv-tooltip, sv-tag)
 * 
 * For extension points and layer boundaries documentation, see:
 * styles/docs/base-control-extensions.md
 */

/* ==========================================================================
   TABLE OF CONTENTS:
   
   1. IMPORTS
   2. VARIABLES & CONFIGURATION
   3. BASE CLASS DEFINITION
   4. PRIORITY VARIATIONS
   5. DENSITY VARIATIONS
   6. ALIGNMENT & DISPLAY VARIATIONS
   7. TRUNCATION & CONTENT FORMATTING
   8. SIZE VARIATIONS
   9. ACCESSIBILITY ENHANCEMENTS
   ========================================================================== */

/* ==========================================================================
   1. IMPORTS
   ========================================================================== */
@use 'sass:map';
@use './../../abstracts' as *;
@use './../core/_base-control' as *;
@use './../utils/mixins/state' as state;
@use './../utils/mixins/layout' as layout;
@use './../utils/mixins/typography' as typography;
@use './../utils/mixins/accessibility' as a11y;

/* ==========================================================================
   2. VARIABLES & CONFIGURATION
   ========================================================================== */

// Information content spacing
$info-display-spacing-x: var(--sv-space-2);
$info-display-spacing-y: var(--sv-space-1);

// Content display variables
$info-display-max-lines: 3;
$info-display-line-clamp: 2;

/* ==========================================================================
   3. BASE CLASS DEFINITION
   ========================================================================== */

/**
 * The sv-information-display-base class provides foundational styling for all
 * information display components such as labels, badges, tooltips, and tags.
 * 
 * This class extends sv-ui-control-base and adds information display specific styling.
 */
.sv-information-display-base {
  // Inherit all base UI control styles
  @extend .sv-ui-control-base;
  
  // Box model adjustments for information displays
  display: inline-flex;
  align-items: center;
  padding: $info-display-spacing-y $info-display-spacing-x;
  
  // Reset properties that don't apply to information displays
  border: none;
  background-color: transparent;
  cursor: default;
  
  // Typography defaults for information display
  @include typography.typography-base('base', 'normal', 'normal');
  color: var(--sv-text-primary);
  text-align: left;
  
  // Content handling
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  
  // Structure elements
  &__icon {
    flex-shrink: 0;
    margin-right: var(--sv-space-2);
    color: currentColor;
  }
  
  &__content {
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  // Support for interactive information displays (when needed)
  &.is-interactive {
    cursor: pointer;
    
    &:hover {
      color: var(--sv-primary);
    }
    
    &:focus-visible {
      @include state.focus-visible-state;
    }
  }
}

/* ==========================================================================
   4. PRIORITY VARIATIONS
   ========================================================================== */

.sv-information-display-base {
  // High priority (emphasized)
  &.sv-priority-high {
    font-weight: var(--sv-font-weight-semibold);
    color: var(--sv-text-primary);
  }
  
  // Normal priority (default)
  &.sv-priority-normal {
    font-weight: var(--sv-font-weight-normal);
    color: var(--sv-text-primary);
  }
  
  // Low priority
  &.sv-priority-low {
    font-weight: var(--sv-font-weight-normal);
    color: var(--sv-text-secondary);
  }
  
  // Subtle priority (minimally visible)
  &.sv-priority-subtle {
    font-weight: var(--sv-font-weight-normal);
    color: var(--sv-text-tertiary);
  }
}

/* ==========================================================================
   5. DENSITY VARIATIONS
   ========================================================================== */

.sv-information-display-base {
  // Compact density (minimal padding)
  &.sv-density-compact {
    padding: var(--sv-space-1) var(--sv-space-2);
    line-height: var(--sv-line-height-tight);
  }
  
  // Normal density (default)
  &.sv-density-normal {
    padding: $info-display-spacing-y $info-display-spacing-x;
    line-height: var(--sv-line-height-normal);
  }
  
  // Comfortable density (more spacing)
  &.sv-density-comfortable {
    padding: var(--sv-space-2) var(--sv-space-3);
    line-height: var(--sv-line-height-relaxed);
  }
}

/* ==========================================================================
   6. ALIGNMENT & DISPLAY VARIATIONS
   ========================================================================== */

.sv-information-display-base {
  // Alignment variations
  &.sv-align-left {
    text-align: left;
    justify-content: flex-start;
  }
  
  &.sv-align-center {
    text-align: center;
    justify-content: center;
  }
  
  &.sv-align-right {
    text-align: right;
    justify-content: flex-end;
  }
  
  // Display variations
  &.sv-display-inline {
    display: inline;
  }
  
  &.sv-display-inline-block {
    display: inline-block;
  }
  
  &.sv-display-inline-flex {
    display: inline-flex;
    align-items: center;
  }
  
  &.sv-display-block {
    display: block;
    width: 100%;
  }
  
  &.sv-display-flex {
    display: flex;
    align-items: center;
    width: 100%;
  }
}

/* ==========================================================================
   7. TRUNCATION & CONTENT FORMATTING
   ========================================================================== */

.sv-information-display-base {
  // Single line truncation (default)
  &.sv-truncate-single {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  // Multi-line truncation
  &.sv-truncate-multi {
    white-space: normal;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: $info-display-line-clamp;
    -webkit-box-orient: vertical;
    line-clamp: $info-display-line-clamp;
  }
  
  // No truncation
  &.sv-truncate-none {
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
  }
  
  // Word wrapping control
  &.sv-wrap {
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
  
  &.sv-nowrap {
    white-space: nowrap;
    word-wrap: normal;
    overflow-wrap: normal;
  }
}

/* ==========================================================================
   8. SIZE VARIATIONS
   ========================================================================== */

.sv-information-display-base {
  // Small size
  &.sv-size-sm {
    font-size: var(--sv-font-size-sm);
    padding: var(--sv-space-0-5) var(--sv-space-1);
    
    .sv-information-display-base__icon {
      width: var(--sv-icon-size-sm);
      height: var(--sv-icon-size-sm);
    }
  }
  
  // Default (medium) size inherits from base class
  
  // Large size
  &.sv-size-lg {
    font-size: var(--sv-font-size-lg);
    padding: var(--sv-space-2) var(--sv-space-3);
    
    .sv-information-display-base__icon {
      width: var(--sv-icon-size-lg);
      height: var(--sv-icon-size-lg);
    }
  }
}

/* ==========================================================================
   9. ACCESSIBILITY ENHANCEMENTS
   ========================================================================== */

.sv-information-display-base {
  // High contrast mode support
  @include a11y.high-contrast-mode {
    color: ButtonText;
    
    &.sv-priority-high,
    &.sv-priority-normal,
    &.sv-priority-low,
    &.sv-priority-subtle {
      color: ButtonText;
    }
    
    &.is-interactive:hover {
      color: Highlight;
    }
  }
  
  // Support for reduced motion
  @include a11y.reduced-motion {
    transition: none;
  }
  
  // Ensure proper focus handling for keyboard users when interactive
  &.is-interactive:focus-visible {
    @include a11y.focus-visible-enhanced;
  }
}
