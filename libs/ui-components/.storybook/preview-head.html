<style>
/* Base styles for Storybook */
body {
  font-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  margin: 0;
  padding: 0;
}

/* Light/dark theme support */
.light-theme {
  --background-color: #ffffff;
  --text-color: #333333;
  --primary-color: #ff5722;
}

.dark-theme {
  --background-color: #222222;
  --text-color: #f5f5f5;
  --primary-color: #ff7043;
}

/* Basic font-family definitions to match your application */
:root {
  --font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  
  /* Define your CSS variables here to match main application */
  --primary: #0a9fff;
  --primary-hover: #0084df;
  --primary-rgb: 10, 159, 255;
  --primary-500-rgb: 10, 159, 255;
  
  --border-color: #dee2e6;
  --border-color-hover: #adb5bd;
  --border-light: #e9ecef;
  --border-medium: #dee2e6;
  
  --text-primary: #212529;
  --text-secondary: #6c757d;
  --text-tertiary: #adb5bd;
  --text-on-primary: #ffffff;
  
  --bg-surface: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-element: #f8f9fa;
  --bg-element-hover: #e9ecef;
  --bg-element-active: #dee2e6;
  
  --surface-background: #ffffff;
  --surface-background-alt: #f8f9fa;
  --surface-hover: #f8f9fa;
  
  --border-radius-md: 8px;
  --shadow-sm: 0px 1px 3px rgba(0, 0, 0, 0.1);
  
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  
  /* Spacing variables */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
}

/* Dark theme variables */
.dark-theme {
  --primary: #30b1ff;
  --primary-hover: #50c1ff;
  --primary-rgb: 48, 177, 255;
  --primary-500-rgb: 48, 177, 255;
  
  --border-color: #454545;
  --border-color-hover: #666666;
  --border-light: #383838;
  --border-medium: #454545;
  
  --text-primary: #e9ecef;
  --text-secondary: #adb5bd;
  --text-tertiary: #868e96;
  --text-on-primary: #ffffff;
  
  --bg-surface: #1a1a1a;
  --bg-secondary: #2d2d2d;
  --bg-element: #2d2d2d;
  --bg-element-hover: #383838;
  --bg-element-active: #454545;
  
  --surface-background: #1a1a1a;
  --surface-background-alt: #2d2d2d;
  --surface-hover: #2d2d2d;
  
  background-color: #1a1a1a;
  color: #e9ecef;
}

/* Basic styling for Storybook environment */
body {
  font-family: var(--font-family);
  color: var(--text-primary);
  background-color: var(--bg-surface);
  margin: 0;
  padding: 0;
  transition: background-color 0.3s ease;
}

/* Add padding to the Storybook preview area */
.sb-show-main {
  padding: 1rem;
}
</style>

<!-- Add other global styling or scripts for Storybook here -->

<!-- Quill stylesheets - Using local references -->
<link rel="stylesheet" href="quill.snow.css">
<link rel="stylesheet" href="quill.bubble.css">

<!-- Quill script - Using a CDN since it's not directly used by Storybook -->
<script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js" integrity="sha256-xnX1c4jTWYY3xOD5/hVL1h37HCCGJx+USguyubBZsHQ=" crossorigin="anonymous"></script>

<!-- KaTeX stylesheets -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>

<!-- Extra CSS to fix Quill toolbar issues in Storybook -->
<style>
  /* Fix for Quill toolbar buttons in Storybook */
  .ql-toolbar button svg {
    display: inline-block !important;
    height: 100% !important;
    width: 100% !important;
    vertical-align: middle !important;
  }
  
  .ql-toolbar button {
    height: 24px !important;
    width: 28px !important;
    padding: 3px 5px !important;
    background: none;
    border: none;
    cursor: pointer;
    display: inline-block;
    float: left;
  }
  
  /* Fix for SVG elements in toolbar */
  .ql-stroke {
    fill: none !important;
    stroke: #444 !important;
    stroke-linecap: round !important;
    stroke-linejoin: round !important;
    stroke-width: 2 !important;
  }
  
  .ql-fill {
    fill: #444 !important;
  }
  
  .ql-snow .ql-picker {
    color: #444;
    display: inline-block;
    float: left;
    font-size: 14px;
    font-weight: 500;
    height: 24px;
    position: relative;
    vertical-align: middle;
  }
  
  /* Ensure toolbar formats are visible */
  .ql-formats {
    display: inline-block !important; 
    vertical-align: middle !important;
    margin-right: 15px !important;
  }
  
  /* Ensure Quill editor has minimum height */
  .ql-editor {
    min-height: 100px !important;
  }
  
  /* Fix for dark theme */
  .dark-theme .ql-stroke {
    stroke: #ccc !important;
  }
  
  .dark-theme .ql-fill {
    fill: #ccc !important;
  }
</style>

<!-- Custom script to ensure Quill toolbar is initialized properly -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for Storybook to fully render
    setTimeout(function() {
      // Force refresh any Quill instances
      const editors = document.querySelectorAll('.sv-html-editor');
      if (editors.length) {
        console.log('Found HTML editors:', editors.length);
      }
    }, 1000);
  });
</script> 