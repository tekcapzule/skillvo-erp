<div 
  class="sv-file-upload"
  (click)="openFileDialog()"
  [attr.aria-disabled]="disabled ? 'true' : 'false'"
>
  <input 
    type="file" 
    class="sv-file-upload__input" 
    [accept]="config.accept" 
    [multiple]="config.multiple" 
    [disabled]="disabled"
    (change)="onFileInputChange($event)"
    tabindex="-1"
  >
  
  <div class="sv-file-upload__dropzone">
    <div class="sv-file-upload__icon">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 14.9999V5.99988L7 9.99988" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M11 5.99988L15 9.99988" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M3 15C3 16.5913 3.63214 18.1174 4.75736 19.2426C5.88258 20.3679 7.4087 21 9 21H15C16.5913 21 18.1174 20.3679 19.2426 19.2426C20.3679 18.1174 21 16.5913 21 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div class="sv-file-upload__text">
      <p class="sv-file-upload__label">{{ config.labelText }}</p>
      <p class="sv-file-upload__hint">{{ config.hintText }}</p>
    </div>
  </div>
  
  <div class="sv-file-upload__file-list" *ngIf="files.length > 0">
    <div class="sv-file-upload__file-item" *ngFor="let file of files; let i = index">
      <div class="sv-file-upload__file-info">
        <div class="sv-file-upload__file-icon">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.6667 17.5H3.33333C2.89131 17.5 2.46738 17.3244 2.15482 17.0118C1.84226 16.6993 1.66667 16.2754 1.66667 15.8333V4.16667C1.66667 3.72464 1.84226 3.30072 2.15482 2.98816C2.46738 2.67559 2.89131 2.5 3.33333 2.5H8.33333L10 4.16667H16.6667C17.1087 4.16667 17.5326 4.34226 17.8452 4.65482C18.1577 4.96738 18.3333 5.39131 18.3333 5.83333V15.8333C18.3333 16.2754 18.1577 16.6993 17.8452 17.0118C17.5326 17.3244 17.1087 17.5 16.6667 17.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="sv-file-upload__file-details">
          <span class="sv-file-upload__file-name">{{ file.name }}</span>
          <span class="sv-file-upload__file-size">{{ (file.size / 1024).toFixed(0) }} KB</span>
        </div>
      </div>
      <button 
        type="button" 
        class="sv-file-upload__file-remove" 
        (click)="removeFile(i); $event.stopPropagation();" 
        [disabled]="disabled"
        aria-label="Remove file"
      >
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4L4 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M4 4L12 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>
  
  <div class="sv-file-upload__error" *ngIf="error">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8 5.33337V8.00004" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="8" cy="10.6667" r="0.666667" fill="currentColor"/>
    </svg>
    <span>{{ error }}</span>
  </div>
</div> 