<div class="sv-date-range" [class.sv-date-range--disabled]="disabled" [class.sv-date-range--dark]="theme === 'dark'" [class]="customClass">
  <div class="sv-date-range__label" *ngIf="label">{{ label }}</div>
  
  <div class="sv-date-range__content">
    <!-- From Date Input -->
    <div class="sv-date-range__field">
      <div class="sv-date-range__field-label">From:</div>
      <div class="sv-date-range__input-container">
        <input
          type="text"
          class="sv-date-range__input"
          [placeholder]="fromPlaceholder"
          [(ngModel)]="fromDateStr"
          (blur)="onFromInputChange()"
          [disabled]="disabled"
        />
        <button class="sv-date-range__calendar-btn" (click)="toggleFromCalendar($event)" [disabled]="disabled">
          <i class="fas fa-calendar-alt"></i>
        </button>
      </div>
    </div>
    
    <!-- To Date Input -->
    <div class="sv-date-range__field">
      <div class="sv-date-range__field-label">To:</div>
      <div class="sv-date-range__input-container">
        <input
          type="text"
          class="sv-date-range__input"
          [placeholder]="toPlaceholder"
          [(ngModel)]="toDateStr"
          (blur)="onToInputChange()"
          [disabled]="disabled"
        />
        <button class="sv-date-range__calendar-btn" (click)="toggleToCalendar($event)" [disabled]="disabled">
          <i class="fas fa-calendar-alt"></i>
        </button>
      </div>
    </div>
  </div>
  
  <!-- From Calendar Popup -->
  <div class="sv-date-range__calendar-popup" *ngIf="isFromCalendarOpen" (click)="$event.stopPropagation()">
    <div class="sv-date-range__calendar-header">
      <button class="sv-date-range__today-btn" (click)="setFromToToday($event)">Today</button>
    </div>
    <sv-calendar
      [currentDate]="getFromCalendarDate()"
      view="month"
      [readonly]="true"
      (slotSelected)="onFromDateSelect($event.start)"
    ></sv-calendar>
  </div>
  
  <!-- To Calendar Popup -->
  <div class="sv-date-range__calendar-popup" *ngIf="isToCalendarOpen" (click)="$event.stopPropagation()">
    <div class="sv-date-range__calendar-header">
      <button class="sv-date-range__today-btn" (click)="setToToToday($event)">Today</button>
    </div>
    <sv-calendar
      [currentDate]="getToCalendarDate()"
      view="month"
      [readonly]="true"
      (slotSelected)="onToDateSelect($event.start)"
    ></sv-calendar>
  </div>
</div> 