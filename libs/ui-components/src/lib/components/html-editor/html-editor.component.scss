// Remove direct imports to fix CSS loading issues
// @import 'quill/dist/quill.snow.css';
// @import 'quill/dist/quill.bubble.css';

.sv-html-editor-wrapper {
  display: flex;
  flex-direction: column;
  border-radius: 4px;
  overflow: hidden;
  font-family: var(--sv-font-family, sans-serif);
  
  .sv-html-editor {
    flex: 1;
    overflow: auto;
  }
}

// Use ::ng-deep to override Quill's default styling
::ng-deep .sv-html-editor-wrapper {
  .ql-toolbar {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
    border-color: var(--sv-border-color, #ddd);
    background-color: var(--sv-surface-color, #f8f9fa);
    padding: 8px;
  }
  
  .ql-container {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
    border-color: var(--sv-border-color, #ddd);
    font-size: var(--sv-font-size-base, 16px);
    line-height: var(--sv-line-height, 1.5);
  }
  
  .ql-editor {
    min-height: 100px;
    padding: 12px;
    
    &:focus {
      outline: none;
      border-color: var(--sv-primary-color, #4285f4);
    }
    
    p, h1, h2, h3, h4, h5, h6, ul, ol {
      margin-bottom: 0.75em;
    }
  }
  
  .ql-tooltip {
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }
  
  // Add explicit styling for toolbar buttons to ensure they're visible
  .ql-toolbar button svg {
    display: inline-block !important;
    height: 100% !important;
    width: 100% !important;
    vertical-align: middle !important;
  }
  
  // Ensure toolbar buttons have proper dimensions
  .ql-toolbar button {
    height: 24px !important;
    width: 28px !important;
    padding: 3px 5px !important;
  }
  
  // Fix stroke and fill colors for svg elements
  .ql-stroke {
    stroke: #444 !important;
    stroke-linecap: round !important;
    stroke-linejoin: round !important;
    stroke-width: 2 !important;
    fill: none !important;
  }
  
  .ql-fill {
    fill: #444 !important;
  }
  
  // Make sure toolbar is visible
  .ql-toolbar.ql-snow {
    border: 1px solid #ccc !important;
    box-sizing: border-box !important;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif !important;
    padding: 8px !important;
    display: flex !important;
    flex-wrap: wrap !important;
  }
}

// Theme-specific tweaks
:host-context(.theme-dark) {
  ::ng-deep .sv-html-editor-wrapper {
    .ql-toolbar {
      background-color: var(--sv-surface-dark, #333);
      border-color: var(--sv-border-color-dark, #555);
    }
    
    .ql-container {
      border-color: var(--sv-border-color-dark, #555);
      color: var(--sv-text-color-dark, #eee);
    }
    
    .ql-picker-options {
      background-color: var(--sv-surface-dark, #333);
    }
    
    // Adjust stroke and fill colors for dark theme
    .ql-stroke {
      stroke: #ccc !important;
    }
    
    .ql-fill {
      fill: #ccc !important;
    }
  }
} 